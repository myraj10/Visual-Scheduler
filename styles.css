:root { --bg:#1f1f23; --card:#00CCCC; --muted:#2a2a2f; --text:#fff; }
*{box-sizing:border-box;font-family:system-ui,Segoe UI,Roboto,Arial;}
body{margin:0;background:var(--bg);color:var(--text);display:flex;flex-direction:column;min-height:100vh;}
header, footer{display:flex;align-items:center;gap:.5rem;padding:.75rem;background:var(--muted);position:sticky;top:0;z-index:3}
footer{position:sticky;bottom:0;top:auto;}
h1{flex:1;text-align:center;margin:0;font-size:1.1rem}
button{background:#3a3a44;color:#fff;border:none;border-radius:12px;padding:.5rem .7rem;cursor:pointer}
main{padding:.75rem;flex:1;overflow:auto}

ul.tasks{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:.6rem}
.task{display:flex;align-items:center;gap:.6rem;background:var(--card);border-radius:14px;padding:.5rem;transition:transform .15s ease}
.task .thumb{width:44px;height:44px;border-radius:12px;background:#0003;object-fit:cover}
.task .meta{flex:1}
.task .name{font-weight:700}
.task .time{opacity:.9;font-size:.85rem}
.task.doneItem{opacity:.6;text-decoration:line-through}

.progress-wrap{flex:1;height:16px;background:#0004;border-radius:20px;overflow:hidden}
.progress{height:100%;width:0%;background:linear-gradient(90deg,#a88bff,#6dd5ed)}

dialog{border:none;border-radius:16px;padding:1rem;max-width:480px;width:90%}
dialog::backdrop{background:#0008}
.inline-row{display:flex;align-items:center;gap:.5rem;margin:.25rem 0}
button.danger{background:#8b2d2d}

.days-grid{display:grid;grid-template-columns:repeat(2,minmax(140px,1fr));gap:.3rem;margin:.5rem 0}
.setup-actions{margin:.3rem 0}
hr{border:none;border-top:1px solid #555;margin:.5rem 0}

/* In-app confirm dialog */
#confirmDialog{border:none;border-radius:16px;padding:1rem;max-width:360px;width:90%}
#confirmDialog::backdrop{background:#0008}
#confirmDialog .confirm{display:flex;flex-direction:column;gap:.75rem}
#confirmDialog p{margin:0;font-size:1rem}
#confirmDialog menu{display:flex;justify-content:flex-end;gap:.5rem;margin:0}

/* Confetti canvas (overlay) */
#confettiCanvas{
  position:fixed;
  inset:0;
  width:100%;
  height:100%;
  pointer-events:none;
  z-index: 20;
}

/* Activity Viewer */
#viewerDialog{border:none;border-radius:16px;padding:0;max-width:min(92vw,520px);width:92%}
#viewerDialog::backdrop{background:#0008}
#viewerDialog .viewer{display:flex;flex-direction:column;gap:.75rem}
#viewerDialog img{width:100%;height:auto;display:block;border-radius:16px 16px 0 0;object-fit:contain;background:#111}
#viewerDialog menu{display:flex;justify-content:flex-end;gap:.5rem;margin:0;padding:.75rem}
#viewerDialog button{background:#3a3a44;color:#fff;border:none;border-radius:12px;padding:.55rem .9rem;cursor:pointer}
#viewerDialog button.primary{background:#2e7d32}
